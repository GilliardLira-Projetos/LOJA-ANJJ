<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LOJA ANJJ</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
body { font-family: 'Poppins', sans-serif; margin: 0; padding: 0; background: #f6f6f6; }
header { display: flex; justify-content: space-between; align-items: center; padding: 16px 32px; background: #1d4ed8; color: #fff; position: sticky; top: 0; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,.1); }
.logo { font-weight: 600; font-size: 22px; }
nav a { color: #fff; text-decoration: none; margin: 0 8px; font-weight: 500; }
.cart-btn { background: #f59e0b; color: #fff; padding: 8px 12px; border: none; border-radius: 6px; cursor: pointer; position: relative; }
.cart-count { position: absolute; top: -6px; right: -6px; background: red; color: #fff; border-radius: 50%; padding: 2px 6px; font-size: 12px; }

.banner { position: relative; text-align: center; overflow: hidden; height: 300px; margin-bottom: 20px; }
.banner img { width: 100%; height: 100%; object-fit: cover; }
.banner-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #fff; text-shadow: 0 2px 6px rgba(0,0,0,.6); width: 90%; }
.banner-text h1 { font-size: 2em; margin: 0; }
.banner-text p { font-size: 1em; }

.grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); gap: 20px; padding: 0 20px 32px; }

.card { background: #fff; border-radius: 12px; padding: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.12); display: flex; flex-direction: column; transition: transform .3s, box-shadow .3s; }
.card:hover { transform: translateY(-6px); box-shadow: 0 12px 28px rgba(0,0,0,0.2); }

.thumb-container { width: 100%; height: 220px; overflow: hidden; border-radius: 10px; background: #eee; margin-bottom: 8px; position: relative; }
.thumb-container img { width: 100%; height: 100%; object-fit: cover; cursor: pointer; border-radius: 10px; }

.image-controls { display: flex; justify-content: center; gap: 20px; margin-top: 6px; }
.image-controls button { padding: 6px 12px; background: #1d4ed8; color: #fff; border: none; border-radius: 6px; cursor: pointer; transition: background .3s; }
.image-controls button:hover { background: #2563eb; }

.title { font-weight: bold; margin: 8px 0; font-size: 16px; }
.price { font-size: 18px; margin: 6px 0; color: #1d4ed8; }
select, input, button { padding: 8px; border-radius: 6px; border: 1px solid #ccc; width: 100%; }
button.add-cart { background: #1d4ed8; color: #fff; border: none; margin-top: 6px; }
button.add-cart:hover { background: #2563eb; }

/* Carrinho */
.cart-overlay { position: fixed; top: 0; right: 0; width: 100%; max-width: 420px; height: 100%; background: #fff; box-shadow: -4px 0 20px rgba(0,0,0,.2); padding: 20px; transform: translateX(100%); transition: transform .3s; z-index: 2000; overflow-y: auto; }
.cart-overlay.open { transform: translateX(0); }
.cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; border-bottom: 1px solid #eee; padding-bottom: 6px; flex-wrap: wrap; }
.cart-item div.buttons { display: flex; align-items: center; margin-top: 5px; }
.cart-item button { border: none; background: none; color: #1d4ed8; font-size: 18px; cursor: pointer; margin: 0 3px; }
.cart-item button.remove { margin-left: 10px; color: #ef4444; font-size: 20px; }
.cart-footer { margin-top: 20px; }
.cart-actions { display: flex; flex-direction: column; gap: 10px; margin-top: 10px; }
.cart-actions button { padding: 10px; border: none; border-radius: 6px; font-weight: 500; }
.cart-actions button:first-child { background: #ef4444; color: #fff; }
.cart-actions button:last-child { background: #10b981; color: #fff; }

/* Modal */
.modal { display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); justify-content: center; align-items: center; }
.modal.open { display: flex; }
.modal-content { position: relative; max-width: 90%; max-height: 80%; display: flex; flex-direction: column; align-items: center; }
.modal-content img { width: 100%; max-height: 80vh; object-fit: contain; border-radius: 10px; cursor: pointer; transition: transform .3s; }
.modal-content img:hover { transform: scale(1.02); }
.modal-controls { position: absolute; top: 50%; left: 0; right: 0; display: flex; justify-content: space-between; pointer-events: none; }
.modal-controls button { background: rgba(0,0,0,0.4); color: #fff; border: none; font-size: 28px; padding: 10px 16px; border-radius: 50%; cursor: pointer; pointer-events: all; transition: background .3s; }
.modal-controls button:hover { background: rgba(0,0,0,0.7); }
.close-modal { position: absolute; top: 10px; right: 10px; font-size: 28px; color: #fff; background: rgba(0,0,0,0.5); border: none; padding: 10px 16px; cursor: pointer; border-radius: 50%; }
.close-modal:hover { background: rgba(0,0,0,0.7); }

/* Responsivo */
@media (max-width: 768px){
    header { flex-direction: column; text-align: center; gap: 10px; }
    .banner { height: 200px; }
    .banner-text h1 { font-size: 1.5em; }
    .banner-text p { font-size: 0.9em; }
    .grid { padding: 0 10px; gap: 15px; }
}
</style>
</head>
<body>
<header>
    <div class="logo">üèÜ LOJA ANJJ</div>
    <nav>
        <a href="#catalog">Cat√°logo</a>
        <button class="cart-btn" onclick="toggleCart()">üõí Carrinho <span id="cartCount" class="cart-count">0</span></button>
    </nav>
</header>

<section class="banner">
    <img src="Image/jiujitsu.jpg" alt="Banner" />
    <div class="banner-text">
        <h1>Novas Camisas Jiu Jitsu</h1>
        <p>Confira os lan√ßamentos!</p>
    </div>
</section>

<section id="catalog" class="grid"></section>

<div class="cart-overlay" id="cartOverlay">
    <div class="cart-header">
        <h3>üõçÔ∏è Seu Carrinho</h3>
        <button onclick="toggleCart()">‚úñ</button>
    </div>
    <div id="cartItems"></div>
    <div class="cart-footer">
        <p><strong>Total: R$ <span id="cartTotal">0,00</span></strong></p>
        <hr />
        <div>
            <label>Nome:</label>
            <input type="text" id="clientName" placeholder="Digite seu nome" style="width:100%;margin-bottom:8px;">
            <label>WhatsApp:</label>
            <input type="text" id="clientPhone" placeholder="Digite seu WhatsApp" style="width:100%;margin-bottom:8px;">
            <label>Email:</label>
            <input type="email" id="clientEmail" placeholder="Digite seu email (opcional)" style="width:100%;margin-bottom:10px;">
        </div>
        <div class="cart-actions">
            <button onclick="clearCart()">üóëÔ∏è Cancelar Carrinho</button>
            <button onclick="sendOrder()">üì¶ Enviar Pedido</button>
        </div>
    </div>
</div>

<div id="imageModal" class="modal" onclick="if(event.target===this)closeModal()">
    <div class="modal-content">
        <button class="close-modal" onclick="closeModal()">‚úñ</button>
        <img id="modalImage" src="">
        <div class="modal-controls">
            <button onclick="changeImage(-1)">‚¨Ö</button>
            <button onclick="changeImage(1)">‚û°</button>
        </div>
    </div>
</div>

<script>
let products=[], cart=[], currentImages=[], currentIndex=0;
function money(v){ return Number(v).toFixed(2).replace('.', ','); }

// Exemplo de produtos
products = [
  {name:"Camisa Jiu Jitsu", variants:[{name:"P",price:89,stock:5},{name:"M",price:89,stock:10}], images:["Image/jiujitsu.jpg","Image/jiujitsu2.jpg","Image/jiujitsu3.jpg"]}
];

function createCard(p){
    if(!p.variants.length) return null;
    let index = 0;
    const card = document.createElement("div");
    card.className="card";
    card.innerHTML = `
        <div class="thumb-container">
            <img src="${p.images[0]}" alt="${p.name}">
        </div>
        <div class="image-controls">
            <button class="prev-btn">‚¨Ö</button>
            <button class="next-btn">‚û°</button>
        </div>
        <div class="title">${p.name}</div>
        <div class="price">R$ ${money(p.variants[0].price)}</div>
        <label>Tamanho</label>
        <select class="variant">
            <option value="" disabled selected>Selecionar tamanho</option>
            ${p.variants.map(v=>`<option value="${v.price}" data-stock="${v.stock}">${v.name}</option>`).join("")}
        </select>
        <label>Qtd</label>
        <select class="qty"><option>1</option></select>
        <button class="add-cart">Adicionar ao Carrinho</button>
    `;
    const imgEl = card.querySelector(".thumb-container img");
    const prevBtn = card.querySelector(".prev-btn");
    const nextBtn = card.querySelector(".next-btn");
    const variantSel = card.querySelector(".variant");
    const qtySel = card.querySelector(".qty");
    const priceEl = card.querySelector(".price");

    prevBtn.onclick = () => { index = (index-1+p.images.length)%p.images.length; imgEl.src = p.images[index]; };
    nextBtn.onclick = () => { index = (index+1)%p.images.length; imgEl.src = p.images[index]; };

    imgEl.onclick = () => { currentImages = p.images; currentIndex = index; document.getElementById("modalImage").src = currentImages[currentIndex]; document.getElementById("imageModal").classList.add("open"); };

    variantSel.onchange = e => {
        const sel = e.target.selectedOptions[0];
        priceEl.textContent = "R$ "+money(Number(sel.value));
        const stock = Number(sel.dataset.stock||1);
        qtySel.innerHTML = [...Array(stock).keys()].map(i=>`<option>${i+1}</option>`).join("");
    };

    card.querySelector(".add-cart").onclick = () => {
        const vPrice = Number(variantSel.value);
        if(!vPrice){ alert("Selecione um tamanho antes de adicionar."); return; }
        const vName = variantSel.selectedOptions[0].text;
        const qty = Number(qtySel.value||1);
        cart.push({name:p.name,variant:vName,price:vPrice,qty});
        updateCart();
    };

    return card;
}

function updateCart(){
    const c = document.getElementById("cartItems");
    c.innerHTML="";
    let total=0;
    cart.forEach((item,i)=>{
        const div=document.createElement("div");
        div.className="cart-item";
        div.innerHTML=`${item.name} (${item.variant}) x${item.qty} - R$ ${money(item.price*item.qty)}
            <div class="buttons">
                <button onclick="changeQty(${i},-1)">‚ûñ</button>
                <button onclick="changeQty(${i},1)">‚ûï</button>
                <button class="remove" onclick="removeItem(${i})">üóëÔ∏è</button>
            </div>`;
        c.appendChild(div);
        total+=item.price*item.qty;
    });
    document.getElementById("cartTotal").textContent=money(total);
    document.getElementById("cartCount").textContent=cart.length;
}

function changeQty(i,d){ cart[i].qty=Math.max(1,cart[i].qty+d); updateCart(); }
function removeItem(i){ cart.splice(i,1); updateCart(); }
function clearCart(){ if(confirm("Tem certeza que deseja cancelar o carrinho?")){ cart=[]; updateCart(); } }
function toggleCart(){ document.getElementById("cartOverlay").classList.toggle("open"); }
function sendOrder(){
    if(cart.length===0){ alert("Seu carrinho est√° vazio!"); return; }
    const name = document.getElementById("clientName").value.trim();
    const phone = document.getElementById("clientPhone").value.trim();
    const email = document.getElementById("clientEmail").value.trim();
    if(!name||!phone){ alert("Preencha nome e WhatsApp!"); return; }
    const total = cart.reduce((a,b)=>a+b.price*b.qty,0);
    const msg = `Ol√°, sou ${name}. üì± WhatsApp: ${phone} ‚úâÔ∏è Email: ${email||"N√£o informado"} üõçÔ∏è Pedido: ${cart.map(i=>`- ${i.name} (${i.variant}) x${i.qty} = R$ ${money(i.price*i.qty)}`).join("\n")} Total: R$ ${money(total)}`;
    window.open(`https://wa.me/${phone.replace(/\D/g,"")}?text=${encodeURIComponent(msg)}`,"_blank");
    cart=[]; updateCart(); toggleCart();
}

function changeImage(step){ currentIndex = (currentIndex+step+currentImages.length)%currentImages.length; document.getElementById("modalImage").src = currentImages[currentIndex]; }
function closeModal(){ document.getElementById("imageModal").classList.remove("open"); }

const grid = document.getElementById("catalog");
products.forEach(p => { const c = createCard(p); if(c) grid.appendChild(c); });
</script>
</body>
</html>

